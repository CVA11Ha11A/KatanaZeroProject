오후 8:33 2023-08-04
카메라 무빙까지함 그리고 콜라이더 세밀한 수정 필요(중간에 걸리는 부분이 있음)

그리고 이제 플레이어 공격, 마우스 포인터 따라서 공격하는것을 구현해야함 



오전 2:50 2023-08-06

마우스 클릭시 클릭한 좌표 구하는 코드

Vector3 point = Camera.main.ScreenToWorldPoint(new Vector3(Input.mousePosition.x, 
		Input.mousePosition.y, -Camera.main.transform.position.z));

좌클릭했을떄 제작중

현제 마우스 좌표 구하는 코드 구했고 플레이어 위치가 마우스 포지션으로 점점 가는로직을
짜야 하는데 어떤식으로 식을 짜야할지 고민

생각난것 
1. AddForce로 순간적으로 힘을주어서 이동 시켜보자

 시도1 : 움직임 슥 하면서 움직이는데 X축이 +값으로만 움직이고 뒤로 못감 조건을 걸어야 겠음
	+한번 플레이 해서 해보니 addforce 위치를 클릭 좌표로했을때에 월드 좌표가 -이면 잘감
	그렇다면 플레이어의 기준이 0 이여야 하고 그기준에서 어떻게 클릭했는지로 봐야겠음

  시도1결과 : 플레이어의 transform.x < mousePotition.x 이런식으로 X,Y 좌표 비교해서 움직이게함
	결과는 매우 만족스러움 하지만 클릭을 연속적으로 했을때에 
	AddForce가 주는 힘이 점점 더해지는거같음 이부분을 마찰력으로 한번 해결해볼까 싶음


AddForce 연속적으로 줄때에 이동하는 힘이 가중되는것 해결해야함

해결 : AddForce 전에 playerRigid.velocity = Vector3.zero; 이 코드로 이동값 초기화후 다시 이동
시켜서 점점 더해지는것을 방지함



클릭 했을때에 공격을 할것이기 떄문에 공격 애니메이션 제작

오전 4:25 2023-08-06
애니메이션 공격모션이 깔끔하지 않음



오후 9:51 2023-08-06

공격 애니메이션을 어떻게 해야할지 고민하다가 Bool을 코루틴으로 시간을 정해주고 True false를
조정 해서 사용하면 어떨까 싶어서 시도시작

코루틴 

    private Coroutine leftAttackCoroutine;    // 코루틴 캐싱

    // 아래 fixedUpdate는 0.02초 주기이기에 계산 잘해야할거같음
    private WaitForFixedUpdate fixedUpdate = new WaitForFixedUpdate(); // yield return fixedUpdate캐싱
    private WaitForSeconds waitSecond = new WaitForSeconds(0.3f);

이런식으로 캐싱했고

leftAttackCoroutine = StartCoroutine(LeftClickAttack()); 이런방식으로 사용했음

근데 이게 맞는 방식인지 확신이 서질 않음 30분 이상 검색 해보았지만 내가 이해하긴엔
너무 심연이였기에 일단 사용해보니 기능은 정상작동하는것으로 확인

오후 10:51 2023-08-06
애니메이션 확인해보니 Any State 에 Jump 와 Attack 이 있는데 Any State 의 우선순위가 너무
높아서 여기서 다른곳으로 이어도 계속 플레이 되는것을 확인 나중에 AnimatorComtroler수정 필요

오후 10:59 2023-08-06
이동하면서 공격하면 AddForce가 주는힘이 씹히면서 이동속도에 맞춰짐 이 부분 고쳐야할거같음




오후 11:07 2023-08-06

궁굼한것 

(1)위에 코드에서 코루틴을 캐싱했는데 이렇게 캐싱해서 사용하는 것이 맞는지?
(1-1)자주 사용하는것이기 때문에 캐싱을 진행했는데 위 사용방법이 틀렸을 경우 어떻게 사용해야 하는지?

(2) 두 애니메이션을 연결 시키고 싶어서 조건을 주고 연결을 시킴
    둘다 AnyState에 있는것들인데 안가는 이유가 AnyState의 우선순위가 높아서 그런것인지?

	오전 9:20 2023-08-07
	싰으면서 생각해보니 Ani.SetBool안해준거같음


오전 10:41 2023-08-07
위 문제는 해결했음 SetBool을 해주지 않은것이 문제였음

오전 10:41 2023-08-07
지금 이동키를 누르며 공격을 하면 AddForce가주는 힘을 무시하고 움직임의 속도를 따라가는데
이것을 공격할때에 몇초간 이동하지 못하게 짤예정임 근데 시간을 정해주어야 하는데
그것을 코루틴으로 해야 할거같음 시도시작

오전 10:58 2023-08-07
어느정도 만족스러운 결과물이 나옴 움직일때에 속도가 확줄어드는 경우가 줄어든것이 보임

이제 공격할떄에 AddForce 힘을 좀더 늘려주어야 할거같음
늘려주었고 playerRigid를 Zero로 초기화 시켜주었더니 공격후 뚝 끊기는거 같음
1의 수치를 주어야 부드러울거 같음

Vector3.one 을 주니 좀더 좋아졌지만 뒤를 눌렀을때에 앞으로감 조건을 추가해야할거같음

뒤를 눌렀을때에 Vector3.one * -1 로 해결


오전 11:25 2023-08-07
몸통 중앙 기준으로 위를 누르면 윗공격 중앙 기준 좌우눌렀을떄에 좌우 공격 
나중에 상,하,좌,우 공격 처리 해야함

오전 11:37 2023-08-07
상,하,좌,우 공격 판정 만들기 시작

오후 3:37 2023-08-07
피타고라스계산식 사용해보았는데 실패했음 이유가 플레이어가 움직일떄마다 x,y값이 바뀌고
그것을 z에 삽입하니 위치마다 모션이 빙글빙글 돌아가기때문에 실패

교수님의 도움으로
var dir = playerMovementClass.mousePosition - transform.position;
                var angle = Mathf.Atan2(dir.y, dir.x) * Mathf.Rad2Deg;
                transform.rotation = Quaternion.AngleAxis(angle, Vector3.forward);

이 코드를 대입하고 안됬다가 껏다 키니까 정상 작동함 이유를 자세히 알수가 없었음
유니티의 오류였는지 사소한것을 건들이다가 고쳐진것인지 판단불가


오후 3:57 2023-08-07

12시 방향 인근 클릭시 앞으로 전진하지 않고 위로만 공격하게 만들기

실패 : 위쪽 각을 잘 구하고 조건을 걸어주어야할거같음 조건을
	(1) 마우스 포인터를 플레이어 어깨 위를 눌러야 한다 &&
	(2) 플레이어 X좌표 + 0.4 만큼의 앞을 눌렀거나 ||
	(3) 플레이어 X좌표 + -0.1 만큼위 뒤를 눌렀으면 조건 충족
이런 조건으로 시도해보았지만 위로만 이동 하게 되었음


오후 4:29 2023-08-07
플레이어 구르기 를 제작해봐야겠음
조건 : 키입력을 S누른상태에서 D 누르거나 D누르는 중에 S 누르면 구르기 
	구를 동안은 플레이어는 무적이다





구르기 애니메이션 조건 실행
계속 구르는데 Debug 찍어보니까 시간조절 잘해준다면 해결할수 있을거같음

구르기 조절 완료했음

현제 확인된 오류 : 바닥에 비비면서 공격을하면 점프 애니메이션이 계속 재생됨 
풀리긴 하지만 고치긴 해야할거같음

230808 할일 : 굴렀을때에 앞으로 AddForce로 힘을 가해주기 , 구르는중에 무적(Collider껏다키기)



=========================================================================

오전 9:47 2023-08-08
굴렀는데 움직임이 계속 앞으로 힘을 주어서 그런지 Addforce가 바로 풀리는거 같음
구르는 코루틴 돌때에 좌우 입력값 잠궈야 할거같음

구르기 완성 했음 코루틴 내부,위에 구르기 함수에서 점프가 아니고 공중상태가 아니여야하며
좌,우 입력값 무엇진지 판별하고 입력값에 맞추어서
PlayerRigid.AddForce 수치를 주어서 조정하였음

오전 10:45 2023-08-08

공격했을떄에 공격Empect 의 Active 가 켜지고 꺼지면서 조절을 하고 싶음
하지만 2번째 공격부터 정상 작동하는것이 확인되었고 
스크립트의 실행 순서,둘다 Update에 있다보니 그러는거같다고 생각이듦


해결 : 플레이어가 임펙트 오브젝트를 스크립트에서 가져온다음에
임펙트 조건을 날리고 Update 에 둠 그리고 플레이어 스크립트에서 int형 변수를 0으로 두고
임펙트가 실행되는 조건을 1로 둠 그리고 클릭했을떄에 플레이어가 1로 바꾸고 임펙트업데이트에
있는 메서드에 들어가게 되면 처음으로 조건을 바로 0으로 바꾸고 실행한뒤 빠져나가면 if문 조건에
맞지않아서 한번만 실행 되게 만들었음

오전 11:03 2023-08-08
이제 구르고 난뒤에 계속 달리는 애니메이션이 나오는데 왜 그러는지 고쳐보아야 할거같음

애니메이션이 들어가는 조건이 Bool형으로 ReadyRun -> Run 이런 식으로 가는식이였는데
ReadyRun의 조건을 Trigger로 바꾸어야 해결될거같음 조건을 찍어보니 false로 되어있는데도
구른뒤에는 들어감 

오후 1:20 2023-08-08

Debug.LogFormat("구르기 끝났을 때 / isRollRock: {0}, readyRun: {1}",
                    isRollRock, readyRun);

교수님이 이렇게 찍어보시고

       // 달리기 끄는 로직
                readyRun = false;
                playerAni.SetBool("ReadyRun", readyRun);

구르기 끝날때에 이렇게 수동으로 바꾸어 주니까 정상작동함

아까 코루틴에서 바꾸어 주었을때에 왜 안됐는지 알수가 없음

생각해보아서 그나마 가능성으로 보는것이 꺼주고 
playerAni.SetBool("ReadyRun", readyRun);
이부분을 호출하지 않아서 true 상태로 그냥 넘어간 것으로 추론됨


오후 1:23 2023-08-08

벽 붙기 판정 만들어야 할거같음

오후 2:42 2023-08-08
공격후 뛰는거 고치기	(구르기와 동일하게 해결)

S 눌렀을때에 몸 앞으로 기울이는 애니메이션과 조건 처리

플레이어 서있을 때에 콜라이더 

OffSet X: 0.07	Y: -0.03

Size X: 0.55	Y: 1.1

앉아있을때에 예상 수치

OffSet X: 0.07	Y: -0.27

Size X: 0.55	Y: 0.64

오후 3:32 2023-08-08

플레이어 S 입력시 몸을 숙이는것 구현 완료

앉아있을떄에 콜라이더수치를 수정해서 위에 서있을때 , 앉아있을떄 사이즈로 해놓았고
구를때에도 앉아있는 수치로 돌아가는것 확인됨 그리고 키를땠을때에 원래대로 돌아오도록
설정해놓았음 

오후 3:33 2023-08-08

대각선 점프할때 나올 애니메이션 구현


벽점프 벽의 x포지션 플레이어의 x포지션 계산해서 Addforce줘서 대각선점프 구현 시작


오후 3:53 2023-08-08

!오류 : 붙은벽에서 점프 이상함
	벽에서 떨어지고 나서 점프가 안됨 (점프 한뒤에 IsJump를 Debug 찍어봐야할거같음)
	찾아보니 bool형 변수를 false를 주어서 다시 점프 가능하게 해야하는데 true로 준 문제가 있었음

오후 4:28 2023-08-08

대각선 점프 구현하기위해서 벽에 붙어있을때에 playerWallGrab 상태가 true 라면
일반 점프가 아닌 대각선 점프로 가도록 조건을 주었음 그리고 대각선 점프 한뒤에 scale이
바뀌지 않아서 좌,우 구분이 이상해서 점프 마다 오른쪽인지 왼쪽인지 Collider붙었을때에 
player와 wall의 X좌표를 구분해서 RightWall,LeftWall에 구분해주었고 그 변수들 바탕으로
구현함 벽에 붙었을때에 Scale 바꾸어주고 대각선 점프 했을때에 scale 바꿔주는 식으로 만들었음
한번에 벅차 올라야 하기떄문에 Addforce를 이용하였고 그로인해 수치가 일반적인 것보다높은
감이 있음

대각 점프 어느정도 잘되는거 같음 이제 애니메이션 붙어야 할거같음 (falling ->fall )

오후 4:43 2023-08-08
붙인 결과 덤블링후 정상적으로 점프 모션으로 이어짐

오후 4:43 2023-08-08
앞뒤 Scale구분하는데 계속 New Vector 사용하고 있는데 앞뒤 값을 위 변수에 선언해놓고 
그걸 가져다 사용하는 식으로 수정해야겠음

자주 사용하는 Vector Scale 값 캐싱후 수정 완료

오후 5:14 2023-08-08
점프 했을때엔 앉는것이 안되지만 덤블링 후엔 앉는 것이 되는게 확인됨
두 코드의 차이 확인후 수정시작


오후 5:25 2023-08-08
덤블링후 점프 모션이 조금 이상한거같음 수정필요 IsJumpBool == false 일때 idle 로가니
덤블링 후 true 로주어서 조절 해야겠음

확인해보니 isJump라는 Bool형 변수를 사용하는데 이리저리 너무 많이사용해서 엉켜있음


애니메이션 Jump를 복사해서 새로 Flip에 붙이고 조건지정을 따로따로 사용하게끔해야 할거같음


!버그 : 벽에서 공격하니까 중력이 낮아진 상태로 공격하고 중력이 돌아오지 않는거 같음

오후 5:54 2023-08-08
오늘 점프 애니메이션에서 Idel애니메이션 으로 의도한바가 다르게 가는거 고치다가 마무리

230809 할일 : 덤블링 이후 jump 애니메이션 까지 잘가지만 바닥이 닿기 전에 idle 
애니메이션으로 가는 버그 고치기

벽에 붙었을때 공격하면 중력유지한체로 공격하는것 고치기 
(공격할때에 Gravity 1로 주면고쳐질 것으로 예상됨)


오전 11:25 2023-08-09

벽에 붙었을때 공격하면 중력유지한체로 공격하는것 고치기 
 공격할떄에 Gravity가 1보다 낮으면 1로 올리라고 하니까 고쳐짐 하지만 점프가 공격이후
점프가 안됨

벽점프할때에 2단점프 되는것 고침


오후 1:28 2023-08-09
애니메이터 조금 고쳐야할거같음

1 벽을 짚음

점프키 눌렀는가? 

Yes : -> 2벽점프 애니메이션

No : -> 1계속 벽짚기

1 에서 땅에 닿았나?

Yes : Idle 애니메이션

No : 벽짚기

2 벽점프 애니메이션을 실행후 땅에 닿았나?

Yes : Idle애니메이션

No : 모션 그대로 

WallGrab모션중 공격을 하면 공격이나가고 WallGrab모션으로 돌아옴

예상 : WallGrab에서 Attack으로 갔지만 남아있던 Collider인식이 다시 WallGrab으로 부른걸로
	추정


Debug 찍어봐야 하는데 그럼 벽에 붙어 있을떄에 와 공격할떄 한번씩 찍어보고
	예상이맞으면 1붙어있음 -> 2공격함 -> 1붙어있음 으로 나와야함


예상이 맞았고 코루틴으로 공격시 몇초동안 값을 변하지 못하게 하던지 코루틴으로만
값을 변화시켜서 조절해야 할거같음

완료 : 벽에 붙어있을때 Bool 형 변수 isAttackClingWallCoolTimeBool == false일때로하고
	공격했을떄 좌클릭했을떄 발생하는 함수에 코루틴으로 0.3초후 다시 붙을수 있게
	해주었더니 정상적으로됨 하지만 생각해보니 코루틴을 너무 남용하면 GC이 불필요
	하게 많이 쌓일수 있기에 if 조건문으로  isWallGrab == true 조건을 주었음
	isWallGrab이라는 Bool 변수는 벽에 붙었을때 true로 바뀌기 때문에 바닥에서
	공격할시엔 코루틴을 돌지 않도록함


오후 3:53 2023-08-09

이제 벽에서 땅을 밟았을때나 붙는 벽에서 다른 키를 눌렀을때 벽에계속 붙어있는 애니메이션
이 나오는데 이것을 위 방법처럼 다른키를 누르면 0.3초의 쿨을 주면 될거같음

if(isWallGrab == true && (player.GetButtonDown("MoveLeft") ||
 player.GetButtonDown("MoveRight") || player.GetButtonDown("DownKey")))

위 조건으로 해보았는데 Stay가 계속 올라가서 그런지 떨어져도 똑같은거 같음 어떻게 해결해야
할까

Floor 땅일때에 Bool값을 바꿔주는 무언가를 만들어서 벽에 붙는 조건에 땅에 붙지 않았을때를
넣어주면 될거같음


바닥에서 나갈때부터하면됨
playerPresentFloor = true;

오후 4:32 2023-08-09

playerPresentFloor = false; 를 CollitionExit 에 넣으니까 늦게 false가 되는것인지
 점프해서 붙는벽에 닿았을때에 애니메이터가 점프에서 Idle로 가버림


디버그 : exit에서 false로 바꾸어주는 타이밍 붙는벽 enter 타이밍 확인 해보아야할거같음

디버그 결과 : 예상과 다르게 false 된 이후에 Enter 정상적으로 들어감 그렇다면 Ani.SetTriger로
켜주는 곳이 다른곳에 있는데 그 조건에 들어가질 못하나?

디버그 찍어보니 조건에 맞았고 잘 들어감

근데 공격한뒤에 벽에 붙으면 잘되는것을 확인할수 있었는데 그럼 공격할떄에 변수랑
그냥 점프해서 붙었을떄 변수의 차이를 확인하고 고쳐야 할거같음


오후 6:08 2023-08-09
1시간 교수님과 문제점을 유심히 본결과

fix: 벽에 잘붙음 Debug.LogFormat으로 찍어보았지만 문제가 발견되지 않았고 
애니메이터 에서 Jump -> Idle로 가는것 , WallGrab -> Idle로 가는 2가지를 끊었다가
다시 붙여보니 정상작동으로 되었음 문제점을 찾기 너무어려웠고
추후 재발할 가능성이 충분하게 보이기때문에 경과를 잘 지켜보아야 겠음




오전 9:48 2023-08-10
WallGrab상태에서 어느 순간에 WallGrabToIdle을 부르는지 확인해야됨


오후 1:23 2023-08-10

현재 LaserPassage 맵 타일깔았음 총 맵의X길이 61정도 Max X Pos : 52 Min X Pos : -8.9

LaserPassage 카메라 Min Position X : 6 	Y : 1.5
		  Max Positon X : 43.5	Y : 1.5

오후 1:38 2023-08-10
씬이름을 가져와서 그 이름에 따라 카메라의 움직임 제한을 각자 다르게 줌

private Scene nowScene;

오후 2:32 2023-08-10
맵 장애물Obj 레이저 쏘는 기믹 만들기

(1) 기믹의 스프라이트는 있지만 레이저 점선의 스프라이트와 공격시 스프라이트가 없기 때문에
직접 제작

(2) 움직일수 있는 기믹과 움직이지 못하는 기믹구분은 점선 색으로 구분 

(3) Collition.tag 가 Player면 공격

1-2 플레이어를 감지 하였을떄에 나오는 파 노 파 노 색갈 순으로 레이저 쏘기

노란색 RGB 255,180,0  	FFB400
하늘색 RGB 40,130,220 	2882DC


오후 6:01 2023-08-10

현재 레이저 로직 구성중

컬러 캐싱완료

줄어드는 스케일 캐싱 완료

Active == True 일때 실행 시킬 코루틴 구성 중 완료

레이저 Default 사이즈 캐싱해야됨 완료

플레이어 Trigger 조건 제작 해야됨

오전 10:49 2023-08-11
레이저 움직이게 해야함 그걸 2개로 스크립트를 나누었음 이동 만 하게 하는것과
콜라이더 인식해주는 스크립트로 나눔

두개 나누어 두었었는데 둘이 합쳤고 한캐의 스크립트로 가능하게 만들었음 코드 길이가
크게 많지않아서 합쳤고 나중에 다른 곳에서 끌어다 쓸때에도 더욱 편리성이 생김

오후 12:09 2023-08-11
스위치 OnOFF조정을 TriggerStay에서 하니까 겹쳤을때20번정도 빨리돌고 더 안돔 그래서
범위 안에 있는동안 꽤나 많이 씹히는데 이렇게 되면

변수하나 만들어주고 그 면수를 Enter와 Exit 에서 바꾸고 그 변수값이 Enter 값일때 바꿀수
있게 만들어야 할거같음


오후 3:21 2023-08-11

   // 다른클레스에서 알아야하는 bool을 매개변수로 받는 이벤트선언
    public event Action<bool> switchButtionboolChanged;

    // 실질적 스위치 On,Off 구문해줄 bool
    private bool isSwitchOn = true;

    // 스위치 바꿀떄 잠시만 true로 해서 과도한 이벤트 발생 안시키기위한 bool 변수
    public bool isTouchButton = false;

    public bool IsSwitchOn
    {
        
        get { Debug.Log("get에 들어가나?"); return isSwitchOn; }
        set
        {
            Debug.Log("Set에 들어가나?");
            if (isSwitchOn != value && isTouchButton) // && isTouchButton == true && switchControlNum == 1
            {
                Debug.Log("이벤트에 들어오나?");
                isSwitchOn = value;
                // 이벤트 호출 및 매개변수 전달
                switchButtionboolChanged?.Invoke(isSwitchOn);
            }
            else { /*PASS*/ }
        }
    }

---------------------------------------------------------------------------------

                //  { 스페이스 입력하면 스위치 온,오프 조정
                if (IsSwitchOn == true)
                {
                    switchSpriteRenderer.sprite = switchSprite[0];
                    IsSwitchOn = false;
                    touchButton = StartCoroutine(ChangeTouchSwitch());

                }

이런 식으로 불러주면 if(문에선 isSwitchOn 의 값을 불러와서 비교하고)

IsSwitchOn = false;

이런식으로 대입 할때에는 Set 을 불러오기 떄문에
Set의

 isSwitchOn = value; 이 부분이 대입되어서 같이 변경되는걸로 됨


이렇게 만들었는데 비교문일때 Get을 부르고 대입 문에선 Set 을 부른다.

오류가 있었는데 그부분이 만들어놓고 이벤트 구독까지 했지만 참조를 안했었기 떄문에
아예 불러오질 못했음 이방식을 사용할때에 Get과 Set이 어느 시점에서 Call 되는것인지
인지를 잘해야 사용 가능할것으로 예상됨

오후 5:41 2023-08-11

스위치로 레이저는 잘꺼지게 되었지만 player를 인식했을때에 Dotted_Line을 끄고 Shot 하고
다시키는것에 오류가 생김 DottedLine이 스위치를 끄기 전까지 안꺼지고 켜진상태에서
레이저를 쏘게됨

문제를 보니 DottedLine이 SetActive 가 절대적으로 True가 됨 꺼지지 않음


오전 4:44 2023-08-13
여러가지 찾아 봄 DottedLine Script 를 뒤져보기도 하고 여러가지 찾아보았지만 못찾았었음
문제점이 DottedLine에 있는것이아닌 아예 큰 틀 == 맨위 부모오브젝트에 ChildObjControler
라는 Scprit를 달아주었는데 거기서  Update 문에 스위치가 꺼져있지않으면 키라고 해서 
레이저 쏠떄 꺼져야하는것이 맨위 부모오브젝트가 키고 있던거였음 그렇다면 Dotted Line 의
스크립트에 Bool의 매게변수를 받는 이벤트를 하고 맨위 부모 오브젝트가 그 이벤트를 구독하면서
그 값이 바뀔때 실시간으로 바뀌게 해준다면 해결될거 같음

오전 4:46 2023-08-13
Dotted Line에서 Action Bool 매개변수를 받는것을 만들고 Collider에 인식됬을떄에 false 로 바꾸어 버리고
다시 켜질때 부르는 OnEnable 함수에서 true로 만들어주면 해결될것으로 예상 로직구현 시작

오전 4:52 2023-08-13
만들면서 생각해보니 이벤트를 RedDotted 가 가지고 있는것이 맞는가? 라는 생각이 들었음
레이져가 가지고 있어야 하는것이 아닌가라는 생각이 듦 왜냐하면 애매하네; 

스크립트 불러오는 순서를 잘계산해서 해야할거같은데 

오전 5:17 2023-08-13
일단 문제는 맨위 부모오브젝트의 Update문에 있는 조건 변수라는걸 알게됨

오전 9:50 2023-08-14
Evetn Action 을 이용했을때에 이벤트를 구독한곳에서 변수를 변경해도 
이벤트 선언한곳에서도 변경이 된다
(단 여러가지 사용할 경우엔 받아오는곳이 애매해질수 있음)

오전 10:46 2023-08-14
레이저 로직으로 서로 Event를 불러오는 식으로 시도해봄 StackOverflow 터질라해서
Layer로 보이기에좀 덜하게 만든후 다음 씬제작시작


오후 1:40 2023-08-14

SG_LaserPassage002

Camera Set

Min Position	x = 8.2	y = 1.5

Max position	x = 41	y = 30 


오후 2:46 2023-08-14
맵다찍었고 콜라디어 넣음 프로펠러 애니메이션 삽입했고 돌아가는 팬에 Collider넣어줌
그리고 Layer조정 했음

이제 돌아가는 펜에다가 스크립트 짜주어야함

조건
1. 콜라이더가 꺼졌다가 켜져야함 
2. 플레이어가 닿으면 죽어야함

sprite가 10~20일때 콜라이더 꺼짐


오후 6:01 2023-08-14
닥터 맵 타일 다깔았음


오전 10:42 2023-08-16

SG_DoctorMap004 CameraSetting

Min X: 7.5	Y: 3.3

Max X: 41.5	Y: 15.7



오후 12:06 2023-08-16
OneWayPlatForm 완성

플레이어에게 조건을 달아주었음 좌,우 이동 X Down키를 눌러야 함 그러면 아래로 통과 가능
아래에서 위로 가는것은 Platform Effector 라는 컴포넌트 사용 컴포넌트속 Use One Way
체크후 Collider에 User By Effector 체크 함 



오후 6:01 2023-08-16

튜토리얼 컷신만드는 중 처음 적떨어지는거 만들었고 플레이어 처음에 
떨어진후 구르는거 까지됨 하지만 구르고 Fall애니메이션이 계속 진행됨 내일 고쳐야겠음


오전 8:59 2023-08-17
다시 시작


오전 11:41 2023-08-17

애니메이션을 어떻게 해야 할지 고민하고 있었는데 StateMachineBehaviour 이라는 것을 
알게되었음 Mono를 써야해서 못쓰겠거니 했더니 알고보니 StateMachineBehaviour 는
Animator의 Layer에 스크립트를 추가하는 식으로 사용하는 것이였음 그래서 개별적으로
사용할수도 있고 Mono의 스크립트에서도 참조할수 있는것으로 보임 

오전 11:42 2023-08-17
현제 Roll뒤에 뛰어야하는데 Roll뒤에 부를수 있게 까진 해둠 이제 뛰는 애니메이션 작업 해야됨

해시코드를 알아보고싶어서 한번 찍어보았는데 해쉬코드는 알수없는 숫자로 이루어져있음
결과물 :  rool 의 해시코드는 뭘까 ->  -1961390921

오후 12:02 2023-08-17
달리는 부분까진 싱크 맞추었음

오전 11:28 2023-08-18
Light를 이용해서 총알 팅겨낼때에 배경은 어둡게 플레이어는 밝게 이용함 배경은 GlobalLight로
플레이어는 SpotLight를 이용해서 제작하였고 플레이어가 뒤 돌떄 버츄얼카메라 Fllow 를 Player로
지정해주어서 따라가게 만듦 하지만 Y축은 이동하면 안되기 때문에 RigidBody준뒤 Grabity 0 주고
Y,Z축 잠궈줬음


첫번째 점프 가는것까진 되었고 점프 뛸때에 애니메이션 재생 해주어야함


오후 12:10 2023-08-18

Fall 이라는 애니메이션 을 클론따서 조건을 다르게 분기점을 주었음 2번째 점프가 끝나면
Bool 형 변수 하나를 지정해주어서 True로 만들었고 그때에 처음에 꺼놓았던 Movement 스크립트
돌려놓고 애니메이터도 원본으로 줄 예정 이제 돌려주는 로직과 돌려준뒤 잘 작동하는지 확인
해야함


오후 1:44 2023-08-18

플레이어에게 애니메이터 바꾸어주기 -> 원래 스크립트 주기 -> 튜토리얼용 스크립트 끄기
완성함 애니메이터 바꾸어주는것이 조금 생소했는데

private void ChangeController(RuntimeAnimatorController controller)
    {
        animator.runtimeAnimatorController = controller;
    }

이런 함수를 만들어놓고 함수 매개변수에 다시 주어야할 애니메이터를 넣어주었음

오후 1:45 2023-08-18
플레이어의 점프 ,S키 를 누르는것이 안먹는데 찾아 보아야함
결과 : 팀원이 자신의 플레이어로 테스트 하였는데 Maneger를 넣었었고 내것과 상대것이 
곂쳐서 오류가 난거였음 상대것을 꺼준것으로 해결

오후 2:47 2023-08-18
플레이어 애니메이터와 스크립트를 복사하여서 그곳에서 애니메이터 조건 다 삭제하고 새로
줄예정 잘안될경우를 대비해 원본은 보존

현재 업데이트에서 업데이트하는 함수들
        LeftMove();
        RightMove();
        IsDownKey();
        IsRoll();
        JumpMove();
        WallGrabAtInput();
        AttackClick();

고칠순서
좌,우 움직임 -> 점프 -> 아래키(숙이기) -> 구르기 -> 벽잡기 -> 벽점프 -> 공격  순서대로 고칠예정

변수도 확인후 줄일건 줄이고 새로 넣을건 넣어야겠음

오후 2:54 2023-08-18
좌,우 움직임 문제 X 조금 수정했는데 주석을 지웠고

if (isAttacking == false && isRolling == false)
위 조건이 달려 있는데 확인 해보니
 isAttacking 은 공격시 일정시간 움직임을 막기위함이고
isRolling 은 구르는 쿨타임과 동일


isJump 점프를 확인하기 위한 bool 변수인거같음 현재 콜라이더 enter로 적이 아닐때에는 false로 되게 되어있음
isJump 가 Floor라는 태그를 가지고 있는 오브젝트와 Enter되었을때 false 되게 되어있음 

오후 3:17 2023-08-18
점프 쪽도 확인 해보니 점프 자체에는 문제는 없어 보임

점프 애니메이션에 문제점이 있어보임 로직상 점프에 잘 들어오지만 애니메이션이 어떠한
이유에선지 재생이 안됨

시도 해본것 Play,Trigger로 실행시켜봄

달리기 에 사용하는 조건을 달아서 해보니 애니메이션이 되긴함 
Project 창에서 애니메이션을 다시 집어넣은다음에 Play로 해보았는데 되질 않음 그래서
AnyState에서 아무런 조건없는것을 꽃아주니 되었음 왜 되는건지 알방법이 없음
어쩔수 없이 Bool 조건으로 해야 할거같음

점프 모션이나가고 바로 exit 해버리는데 예상하기엔 점프 뛰는 일순간 enter의 들어가서
lending 이 실행되는걸로 생각됨

해결 : 바닥일때와 isJump == true 일때만 들어가게 하니 해결됨

오후 4:11 2023-08-18
숙이기 키 조정 해야함
확인해보니 아래 키는 조정할 부분이 딱히 있지않음
추후 headOffPrecrouch 라는 변수가 꼭 필요하다면 두고 대체하거나 필요없다면 삭제할 예정

오후 4:21 2023-08-18
구르기 조정 시작 
애니메이터 Play로 애니메이션 실행시켜주었고 AddForce의 힘을 playerRigid.velocity = Vector3.zero;
로 중간에 멈추어 주는데 이때에 애니메이터 Trigger를 주어서 Exit로 빠져나가게 고쳤음

오후 4:34 2023-08-18
벽잡기 해야됨

태그가 붙을수 있는 벽일때 SG_ClingWall
playerPresentFloor 이 변수가 필요한지 잘 모르겠음

186 번째줄 붙을수 있는 벽일때 조건에 아래 변수 뺐음
playerPresentFloor

isAttackClingWallCoolTimeBool 이 변수가 벽에 붙어서 공격시 날아갔던이슈 때문에 붙인
변수같음 


오후 5:49 2023-08-18
	!오류!
1.Animator 에서 Flip에서 Exit로 가는것 짜야함 (현제 임시로 Landing으로 해놓았지만 바꿀예정)
2.갑자기 Jump에서 Exit되질 않음

	!빼놓은것!
1.플레이어의 원본 Movement스크립트 
2.Animator Controller 현재 2로되어있음 수정중인것으로 설정해놓음
3.Tutorial Player스크립트 빠져있음
4.하이얼하키 창에서 TutorialManager 꺼져있음
5. 플레이어 초기 위치값 수정했음 원래는 건물지붕위 적오브젝트 아래에 있어야함

오전 3:11 2023-08-20
벽에 붙었을때에 점점 내려오는데 그때 땅에 닿으면 벽에 붙은판정을 false해주고 애니메이터에서
Exit 하게 해주었더니 0.4초동안 벽인가 아닌가 하다가 원래 대로 돌아오게됨 
추가해주기전엔 나가지 못했는데 현재해둔것이 더 나은걸로 판단되기떄문에 일단 유지

이제 Flip 상태 고쳐봐야겠음

오전 3:31 2023-08-20
flipjump 에서 이번에 isFilpJump 라는 bool 변수를 만들어서 대각선 점프할때에 true놓아주었고
true일때 땅에 닿는다면 animator SetTrigger("FlipExit") 를 주어서 해결했음

Flip점프를 하는중 벽에붙은 상태에서 움직이니 벽에 붙는 애니메이션상태에서 움직이던데
벽에 붙었을때에 이동 키를 누르면 떨어지는 애니메이션으로 되도록 만들어야될거같음

오전 3:40 2023-08-20
벽상태에서 좌우 이동 했을떄에 조건을 코딩을 했는데 그때에 WallGrab FlipJump 가 망가지는걸
확인했음 이부분 이 플레이어 망했던부분에 큰 작용을 한걸로 추측됨

오전 3:42 2023-08-20
했던부분을 주석하니까 아까 만든대로는 돌아옴

Wallgrab 상태에서 움직일때에 Jump모션이 나와야하고 그상태에서 땅에 닿을때에 Exit 되야
하는데 이걸 어캐 만들어야하지

오전 3:51 2023-08-20 (일)
오늘은 여기까지

오전 9:22 2023-08-21 (월)
다시시작 
Wallgrab상태에서 A,S,D 키를 눌렀을때에 점프 모션으로 가게 만들고 그상태에서 땅에 닿으면
Idle 모션으로 가게해야됨

오전 9:33 2023-08-21
점프 뛰고 Exit하질 못하는데 확인해보니 점프에선 isJump를 True해주지만 땅에 닿았을떄에
어떠한 이유에선지 Collision에 들어가질 못함

CollisionEnter에 조건없이 찍어보니 점프후 닿았을때 false로 되어있음 false 로만들어주는
부분을 찾아보면 해결 될거라고 생각됨

오전 9:38 2023-08-21
확인해보니 ColiisionEnter if Tag 가 Enemy일때 어떠한 일을 수행하고 else 에 isJump = false
를 해두어서 그아래에 있던 땅에 닿았을때를 무시해버린거였음 fasle 만들어주는부분 주석처리
하니 점프후 잘 들어가게되었음

고치고 나서 WallGrab 상태에서 점프가 되질 않게됨 위에서 false 해주던 기능이 wallgrab Enter 일때로
들어가면 해결될것으로 예측

오전 9:43 2023-08-21
FlipJump 해결됨 하지만 위 내용을 고치고 벽점프 이후 점프를 할때에 점프는 되지만
Jump애니메이션이 실행되질 않는것이 확인되었음 이부분 어떤것이 문제인지
찾아보아야할거같음

벽에 붙어서 땅에 흘러서 Idle 이 되었을때 점프 됨
구르고나서 Idle 이 되었을때 점프됨
시작하자마자 점프해보았을때 점프 됨  이후 점프도 됨
FlipJump 후에만 점프가 안됨

벽점프 이후 점프후 달리기 애니메이션이 작동됨 

벽점프 한뒤 벽에 붙어서 땅에 닿은 상태에선 점프 애니메이션 정상적으로 작동함

오전 10:48 2023-08-21
문제점을 찾은거 같음 Landing 이라는 Trigger가 벽점프 이후 계속 켜저있는것이 확인됨

오전 10:56 2023-08-21
코루틴을 이용해서 waitforFixedUpdate 3번 돌게하고 ReSetTrigger Landing 해주었더니
해결되었음 애니메이터 에서 parameter를 잘 확인하는것도 중요한거같음

오전 11:01 2023-08-21
이제 벽에서 다른 키를 입력했을떄에 Jump 모션이 나오게 하고 땅에 닿으면 다시 idle 상태로
가게 만들어야 함 단 FlipJump 할때는 예외

오전 11:10 2023-08-21
벽에 붙어서 ASD 키를 눌렀을때에 Jump 모션으로 정상적으로 가지만 Collision 에서 
isJump가 true가 아니여서 Landing 해주는곳에 들어가질 못하는것으로 추정

오전 11:37 2023-08-21

collisionEnter에다가 
 if (collision.gameObject.CompareTag("Floor") && isJump == false && wallGrabTouch == true)
위 조건을 넣어주었고 
WallGrabTouch 라는 변수는 벽에 붙은 상태에서 asd 키를 눌렀을때에 true가 되며
바닥에 닿았을때에 다시 false 로 바뀌는 식으로 만들었고
애니메이션이 구상대로 안가는 이유를 보니 Animator 상에서 꺼져있어야할 Trigger 들이
켜져있어서 가야할 파라미터를 가지 못하고 아직 가지말아야 하는 파라미터에 가기때문에
이상한 애니메이션이 작동하는것이였음 Trigger를 사용하고 켜져있는 상황에서 꺼주어야하는
것을 알게 되었음 Trigger 가 편한줄 알았지만 여러가지 작용을 할때에는 초기화 해주어야
한다는 불편함이 있어서 상황에 따라 Bool 이나 Int 형을 사용하는것도 고려해보아야겠음

오전 11:40 2023-08-21
이제 공격 을 만들어야함
공격 애니메이션 끝날때 Jump 애니메이션으로 가게 만듦 Trigger를 보니 벽에 붙어서 공격할때
Trigger가 계속 켜져있는것을 확인할수 있었는데 Trigger는 사용후 초기화 해주는 코루틴을
만들어 두는것이 좋아보임

오전 11:51 2023-08-21
Attack이 끝나고 땅에 닿을때에 켜져있는 트리거들을 다 꺼주는 로직을 짜면 해결될거같음

 아래 처럼 특정한 상황이 나오면 강제로 Idle 애니메이션으로 가도록 처리
 //  땅에 닿아있는데 공격상태이고 Jump 애니메이션이 실행중이라면 강제로 Idle 애니메이션 으로 보냄
        if (collision.gameObject.CompareTag("Floor") && isAttacking == true &&
           animator.GetCurrentAnimatorStateInfo(0).nameHash == Animator.StringToHash("Base Layer.Jump"))
        {
            animator.Play("IdleAnimation");
        }

오후 1:51 2023-08-21
공격 카운트가 올라간 상태에서 땅에 닿으면 공격 카운트 초기화 시켜주고 Landing Trigger를
켜주어서 Idle로 돌아갈수 있게 해주었음 그리고 켜지면 안되는 트리거들을 초기화 시켜주는
코루틴을 부름

오후 1:52 2023-08-21
플레이어는 이쯤되면 다 고친거같음

이제 튜토리얼 만들어둔것과 접목 시키고 바꾼거를 사용하도록 조정 시켜야겠음

오후 2:46 2023-08-21
조정하였고 이제 오디오 삽입해야 하기때문에 Audio 에셋 들어봐야겠음

오후 3:46 2023-08-21
이제 첫 tutorial 적 audio 부터 삽입 시작

오후 5:26 2023-08-21
현재 튜토리얼에 넣은 소리
배경음악,떨어지는적,총쏘는소리,시간느려지는소리,플레이어 공격소리,
시간멈췄을때에 나오는 소리, 튜토리얼 플레이어 점프소리,튜토리얼 플레이어 구르는 소리

오후 5:47 2023-08-21
내일 실제 MoveMent에 사운드 삽입해야 할거같음



오후 5:59 2023-08-21
커밋메세지

Feat: TutorialEnemySound
튜토리얼 씬에서 적 총소리,적 떨어지는 소리, 적 쓰러지는소리 넣었음
여러 소리는 AudioSource와 AudioClip[] Clip의 배열을 이용해서 넣었음
상황에 맞게 소스에 클립을 넣고 소스 플레이 하는 식으로 만들었음
feat

Feat: TutorialPlayerSound,EmpectSound
플레이어 구르는 소리,플레이어 칼 소리,시간 느려지는 임펙트 소리,튜토리얼때 패링 해야하는 타이밍 알려주는 소리 추가
위와 동일하게 Flip과 Source를 이용하여 만들었음
feat

Fix: SG_Player
SG_Player 80% 완성률로 만들어 두었음 버그는 최대한 적고
기능은 구동하게 만들었음 기간이 얼마 없기 때문에 일단 여기서 넘어가고
추후 시간이 남는다면 추가적으로 고칠 예정
fix



오전 9:06 2023-08-22
플레이어 Movement 스크립트에 AudioSource 를 이용해서 삽입 시작

오전 9:26 2023-08-22
구르기 넣었는데 지금 잘됨 하지만 여러가지 clip을 넣었을때에 원하는대로 나오도록
구상을 잘해서 넣어야할거같음

오전 9:32 2023-08-22
점프 오디오 넣었음 구르기랑 안곂치는거 확인했음
플레이어 짤때에 구르기와 점프를 동시에 하지 못하게 해놓아서 오디오도 곂치지 않는거같음

오전 9:33 2023-08-22
이제 뛰는 소리를 넣을거임 뛰는소리는 땅에 닿아있을때에만 나게 해야할거같음


오전 9:50 2023-08-22
시도 해보았는데 한번 점프 뛰고 나면 소리가나고 어떻땐 소리가 안남 안나는 이유를 찾아
보아야겠음

찾아보니 playerPresentFloor 라는 변수가 enter와 exit 일때만 바뀌었는데 꽤나 자주
false가 되어있어서 Stay일때 true로 바꾸어주니 정상적으로 소리가 나옴

        
            // if : 오디오가 순차적으로 재생 되도록 하고싶음            
            if (audioSource.clip.name == ("Run002"))
            {
                // audioClip[5] = Run003
                audioSource.clip = audioClip[5];
                audioSource.Play();
            }
            else if (audioSource.clip.name != ("Run002"))
            {
                audioSource.clip = audioClip[4];
                audioSource.Play();
            }
            else { /*PASS*/ }

오디오 재생은 위 조건처럼 clip 의 이름이 002 라면 003 으로 삽입해주고
뛰고있는데 오디오 클립의 이름이 Run002 가 아니라면 Run002 클립을 넣어주어서
플레이 시키는 식으로 해서 계속 달린다면 2 -> 3 -> 2 -> 3 이런식으로 번갈아가며 실행
되도록 만들었음

오전 10:00 2023-08-22
이제 착지 소리와 FlipJump 소리 찾아서 넣고 스크립트 다시 짜면 될듯

오전 10:26 2023-08-22
착지 소리와 FlipJump 사운드 넣었는데 벽에 닿았을때도 소리가 나서
조건으로 닿은 땅에 Y가 나보다 낮은 쪽에 있을때만 소리 넣어서 나게 해야겠음

오전 10:28 2023-08-22

 if (collision.gameObject.transform.position.y < this.transform.position.y)
            {
                audioSource.clip = audioClip[7];
                audioSource.Play();
            }
            else { /*PASS*/ }

위 조건을 넣었더니 이제 막 부딪쳐도 사운드가 나진 않음

특정 상황에서 FlipJump 사운드가 출력이 안됨 왜 안되는것인지 찾아보아야겠음

player Floor 조건에 PlatForm 이라는 테그도 포함 시켜야 할거같음

포함 시켜보니 게임 자체에는 문제 없지만 살짝 불편한 감이 생기긴 함 하지만 시간상의
문제로 일단 패스 시키고 추후 다시 고민해보아야겠음

오전 10:49 2023-08-22
튜토리얼의 총쏘는 적의 ! 를 만들어보아야겠음

오전 11:28 2023-08-22
완성 됨 떨어지는 적의 collider를 넓히고 그게 닿았을때에 SetActive true 해서 킨다음에
0.5초뒤에 꺼지고 플레이어랑 닿으면 ! SetActive true 만들고 죽을때 false 해서 완성됨


오전 11:52 2023-08-22
플레이어 TimeScale 이 0일때 좌클릭 해야 한다는 스프라이트를 넣어서 띄우고
플레이어가 공격한 이후에는 스프라이트를 꺼서 플레이 할수있게 만듦

오전 11:55 2023-08-22
이제 도착지점에서 스페이스바를 눌렀을때에 화면이 
점점 검은색이 되면서 다음 씬으로 이동하는것을 만들어야함 

애러 사항 : 컬러의 값을 255 로 하니 원하는 대로 되질 않았었고 컬러의 값이 0 ~ 1 로
정해져 있다는것을 알게됨 255 에서 0 과 1 사이로 조정 하니 정상적으로 되었음

Color.Lerf 와 Math. @@ 을 이용하여서 Color 값이 점점 줄어드는것을 표현완료

오후 3:34 2023-08-22
커밋 메세지

SG_feat: GoalPointMake
튜토리얼 씬에서 골포인트 들어갔을때에 Bool값을 바꿔주고 그Bool 값이 True 일때 스페이스바 키를 누르면
화면이 어두워 지는것 까지 만듦 이후 씬 넘기는것 코드만 적어주면 넘어갈수 있음
SG_feat

SG_feat : playerAudioAdd
플레이어 Movement스크립트에 플레이어의 행동에 따라서 사운드 출력 하게 해두었음
현제 Platform Obj 에 따른 자잘한 오류가 있긴하지만 플레이엔 지장이 매우 적기때문에
추후 시간이 남을때 다시 수정할 예정
SG_feat

오후 4:31 2023-08-22
다른 씬으로 넘어가서 필요없는 스크립트 때고 플레이 했을때에 움직이지 못하고 
NullReference 떴는데 이유가 아래에 조건에 AudioSource.clip.name 을 불러오는것인데
클립이 None 일때에는 클립이 Null  상태여서 불러올수 없었고 clip.name 을 참조 해올수
없어서 뜬 것이였음 그렇다면 사운드를 비교해서 들어가는 이동할때에 
clip == null || default 라면 아무 클립을 넣어주고 플레이를 시키지 않는다면 플레이에 
영향을 주지 않으면서 해결 될거라고 생각이 됨

2023-08-22 16:55:34
위 문제를 Awake에서 이동 clip을 처음에 삽입해주니 해결이 되었음
배경음을 임시로 깔아두었음 왜냐하면 음악을 이어서 갈지 따로갈지 아직 모르기 떄문에 임시 삽입

이제 레이저 효과음 넣어야겠음

2023-08-22 17:15:06
/// 로 주석을 사용할수있는데 메모해서 가져다 댔을때에 메모처럼 띄울수 있음

2023-08-22 17:22:35
레이저 스위치에 레이저 켜지고 꺼지는 사운드 삽입 완료

2023-08-22 17:22:46
이제 레이저 쏘는 소리 삽입해야겠음 

2023-08-22 17:31:40
레이저 쏘는 소리 넣었음 넣으면서 알게된것이 스크립트상에서 AudioClip 을 넣고 저장을 했는데
Inspector 에 나오지 않아서 당황했는데 찾아보니까 스크립트상에 오류가 나있었고 오류가 난상태에서는
저장을해도 인스펙터 창에서 나오지 않을수 있다는것을 알게되었음

2023-08-22 17:32:47
플레이어가 레이저 맞았을때에 죽는것 한번 구현 해보아야겠음

2023-08-22 18:00:52
죽는걸 열심히 짜보았지만 태그의 문제인지 어떤부분이 인식이 안되는지 죽질 않음 내일 다시 확인해 보아야겠음


2023-08-23 09:43:26
플레이어가 죽지않는걸 확인해보니 레이저의 콜라이더가 Boxcollider 였음 2D 로 넣어주지 않아서 인식이 되질
않았던거였음

2023-08-23 10:40:58
해결했는데 문제점이 처음엔 Addforce 줬는데 Update 함수에 있는 이동이 그사이에 또 돌아서 문제가 되나
싶었는데 고쳤을때에 티가 별로 나질 않았음 그래서 bool 변수를 만들어서 코루틴안에서 Addforce를 주었는데
그래도 똑같이 미미한 효과를 보았고 다른 AddForce와 차이가 무었이 있나 보니 ForceMode2D.Impulse 를
주지 않았음 이거 하나로 큰차이를 만들었고 ForceMode2D.Impulse 를 넣으니 정상적으로 작동하는것을 확인함
하지만 지금 시간되돌리는것이 내플레이어에겐 없기에 추후에 시간 되돌리는걸 넣으면 조건을 시간 되돌리기
전까지 현제 위치 Pick 해주고 시간 되돌릴때에 isDie도 false 로 만들어주어야 할거같음

2023-08-23 10:43:21

이제 LaserPassage 씬 화면 검해지는거 넣고 그뒤에 "그래,이렇게 하면 되겠지." 문장 출력

2023-08-23 12:06:25
텍스트 컬러값 받아서 하려 했는데 문제가 좀 많이 생겼었음 NullReference 가 계속 떠서 검색해보니
TMP 는 GetComponent 를 GetComponent<TextMeshProUGUI>(); 이렇게 받아옴 이렇게 받아오니 정상적으로
찾아왔고 그걸 기반으로 화면과 거의 동일하게 만듦 이제 화면 다시 하얘지는거 만들면 될거같음

2023-08-23 14:15:41
레이저 맵에서 골 지점에 갔을때에 화면이 어두워지며 클리어 대사 가 나오게 되고 대사가 서서히 사라지고
없어졌을때에 다음 Scene을 Load 시키는것 성공 했음 SceneManager 를 하나 만들었고 골인 지점이 켜졌을
때를 감지해서 한번만 인스턴스 할수 있도록 만들었고 현재 Scene이름과 인스턴스 해온 변수 이벤트가 변경
되었을때에 씬 이동 되게 만들었음 Manager로 이용가능하게 만들었기 에 추후에도 계속 이용 가능 할것으로
추측이 됨

2023-08-23 14:21:16
SG_LaserPassage002 Scene에서 덤블링 할때에 무적 판정이 필요함 판정 수정 해야됨

2023-08-23 15:36:20
무적판정 완성했고 환풍구에 맞으면 죽는것 까지 만듦
(1) 환풍구 까지 만들다보니 태그를 개별적으로 다 주었는데 Enemy태그는 팀원이 다르게 사용할수도 있기에
나중에 된다면 Enemy로 바꾸고 안된다면 장애물 오브젝트는 통합 시키면 코드줄이 많이 줄것으로 예상이됨

(2)플레이를 해보니 무적시간이 많이 긴것을 느낌 구르기 무적 시간을 단축시켜서 밸런스 좀 맞춰야 겠음

시도 1 : 구르기 애니메이션 끝나는 트리거 부른후 isDodge = false 시켜준다
결과 : 비슷한거같음 하지만 레이저에서는 조금 차이가 보이기는 함수

2023-08-23 15:40:18
맵의 경고등을 빛나게 Light를 이용해서 만들어보아야겠음

경고등 Light는 30 ~ 100 까지 계속 왔다갔다 하게 만들어서 빛이 났다 말았다 하는 효과를 주면 좋을거같음

2023-08-23 16:58:51
효과 넣어주었고 맵 여러군데에 배경 을 밝혀주기 위한 SpotLight를 넣어주었음
아까 해매었던 부분이 Layer였는데 배경을 밝혀주는 스포트라이트는 Layer를 All 로 하고 하면 모두 비추어
주어서 배경을 밝힐수 있게됨


2023-08-24 09:47:44
팀원이 한 적을 한번 뜯어서 보았는데 주석이 없어서 해석할수가 없었음 차라리 새로 만드는게 더 나을수도 있을거같아서
적 만들기

팀원의 코드를 참고를 하지만 똑같이 만들기는 힘들거같음

2023-08-24 14:43:49
지금까지 커밋후 오류수정과 서로 Scene 오브젝트 맞추기 했음
이제 DoctorMap 에 Doctor 를 만들어서 플레이어가 특정 지점에 왔을경우 컷신 플레이 되게 해야함

2023-08-24 15:00:26
박사는 플레이어와 1 또는 -1 x 포지션 차이만큼 유지하면서 따라옴

Back 일때 1만큼 거리
Front 일때 -1 만큼 거리


2023-08-24 15:40:00
박사의 움직임 구현을 했는데

dis = Vector3.Distance(playerPotision.position, this.transform.position);

Vector3.Distance 를 이용해서 플레이어와 박사의 거리를 조절 하였고 일정 거리를 유지하면서 이동
해야 하기 떄문에

            // 플레이어가 닥터보다 X 좌표 클떄에 움직임
            if (isFront == true && dis > 1.5f)
            {
                doctorRun = true;
                animator.SetBool("DoctorRun", doctorRun);

                Vector3 move = new Vector3(moveSpeed, rigid.velocity.y, 0f);
                rigid.velocity = move;
                //rigid.velocity
            }
            else if (isFront == true && dis <= 1.5f)
            {
                doctorRun = false;
                animator.SetBool("DoctorRun", doctorRun);

                rigid.velocity = Vector3.zero;
            }

플레이어의 위치를 구하고 서로의 거리가 1.5f 보다 클때 속도만큼 따라가고
서로의 거리가 1.5 <= dis 1.5 이거나 거리가 더 가까울때에 Vector3.zero 를 이용해서 멈추게 만들어주었음

이제 박사가 일정 X 값을 넘어가면 멈춰서 머리 터지는 애니메이션을 재생 해야함

박사가 머리 터져야할 좌표 X  = 17


2023-08-24 16:21:26
박사의 머리가 터지는것을 만들었음 박사머리 터지면 bool값을 이용해서 위의 따라오는것과 Sclae을 바꿔주는
코드를 못돌게 만들었음 이제 머리가 터지는 순간에 머리를 Instance 해서 위로 솟아 오르는것 만들면 끝날거
같음

2023-08-24 17:28:39
머리 터지는것을 SpriteRenderer 를 이용해서 터지는 순간의 Sprite 일때에 머리가 Instance 되도록 만듦
위로 솟아 오르는것은 Rigid.velocity.up 을 이용할 수도 있지만 AddForce로 순간적으로 위로 힘을주는것으로
만들었음

2023-08-24 17:29:53
박사 사운드 삽입 해야됨

1 힘들어 하는소리
2 목의 폭탄 터지긴 전 소리
3 폭탄폭발 소리


2023-08-24 17:59:35
박사 사운드 완료 했음 Sprite 이름으로 비교해서 사운드 플레이 시킴


2023-08-25 09:25:35
엔딩 만들어야함 엔딩은
1 : 화면이 점점 검해진다.
2 : 텍스트가 하나씩나오며 대사가 나온다
일단 위 두가지 조건인데

화면이 검해지는것은 Light 조절로 할것임
Ending Manager를 만들었고 여기서 끝났을때를 감지해서 실행시킬것인데 
끝났는지 감지를 박사로 해도 될것 같음

2023-08-25 11:24:16
커밋메세지

SG_Feat: DoctorMapEnding
닥터맵 엔딩 만들었음 박사가 머리 터지면 지정된 시간 이후에 화면이 검해지고 텍스트가 출력이됨
텍스트는 애니메이션을 넣어두었고 총 텍스트 2개로 나누었음 보스전을 따로 타이틀 씬에 빼놓았기 때문에
닥터맵이후 타이틀 씬으로 가도록 만들었음
feat


2023-08-25 13:13:12
이제 넘어갈때에 화면이 검해지는 임펙트와 클리어시 나오는 문구가 없는 씬들을 찾아서 넣어주고
문구가 끝나면 씬넘어가게 만들어야함

없는것이 확인된 맵 
1 : SG_TutorialScene
2 : YS_Tutorial_Bunker  // 적 다잡으면 다잡았는지 확인하는 bool 변수가 있는데 그것도 조건으로 걸어야함
3 : SG_LaserPassage002 // 카메라가 제한되어있지않음 메인의 코드를 붙여넣어야 할수도 있음



2023-08-25 13:55:24
1 : SG_TutorialScene = 완료

처음에 한번에 혼자 넘어가서 뭔가 싶었는데 따로 팀원이 추가한 다음 씬으로 넘어가는 스크립트가 있었음
그 스크립트의 내용을 복사하고 기존에 있던 화면 검해지는 것에 넣어두고 그위에 글자 나오게 조건을
걸어서 넘어가게 만듦
이제 2번째 해야함 Bunker맵해야됨


2023-08-25 15:48:00
2 : YS_Tutorial_Bunker = 완료

Canvas를 찾는데에 시간이 좀 걸렸고 GlobalLight로 배경을 검은색으로 만들었는데 Spot라이트가 빛이
계속 보여서 화면이 검은색으로 변하기 전에 맵에 있는 SpotLight를 꺼주는 방식으로 만들어서 정상작동

2023-08-25 16:41:39

3 : SG_LaserPassage002 = 완료
Null 이 떠서 어떤것이 못받아오는건지 확인하다가 text 쪽에서 문제가 발생하는것을 확인했고
확인해보니 
TextMeshProUGUI 를 public 으로 열어서 넣어주고
Start에서 GetComponent<TextMeshProUGUI>(); 해주었는데 Null이 떴었음 
위에서 한 행동이 GameObject 로 넣어주었는데 Start 에서 GetComponent<GameObject>() 해준것과
같은 행동인거 같다고 생각이 들었음 빼주니 정상작동 하였고

이걸로 모든 씬연결되고 다음씬갈때에 가기전에 클리어문구와 화면 검은색으로 점점 변하는 것을 완료함

이제 이걸 많이 해보니
Color.Lerf 와 Mathf.Clamp01 에 대해서 조금 알거같음
서서히 색이 바뀌는것에 많이 사용될거같음 좋은기능을 알았음


2023-08-25 16:48:51
소스트리 커밋메세지

SG_fix ClearBackground,MoveScene,ClearText
도착 지점에 도착하면 화면이 검은색으로 변하고 클리어 문구가 뜨며 그뒤에 다음씬으로 이동하는부분을
씬마다 따로따로 만들어주었음 첫 구상의 문제로 한 스크립트로 여러씬에서 적용되게 하는것이 더 좋지만
이미 만들었고 시간이 얼마 없기 때문에 이대로 갔음 동작상 문제 없고 화면이 검은색으로 변할때에 SpotLight가
밝에 비추는것을 화면이 검은색으로 변하기 전에 꺼주는식으로 해결했음 클리어택스트는 A 값이 0에서 1로 올라가는식으로
점점 잘보이게 만들었음 현제 ColiiderEnter2D 에서 체크하는것도 있고 Update 에서 체크하는것도 있는데 ColliderEnter와
Onenable 에서 기능을 수행하게 만드는 것이 메모리상의 부하가 가장 적다고 생각이 들었음
fix

2023-08-25 17:55:03
Project 기간 종료














2023-08-22 16:40:01

VS 코드로 메모장 처럼 이용할수 있는것을 알게됨 .txt 확장자는 거의 vscode로 만들어도 될 정도로 사용가능
코딩 할떄에도 확장자에 그에 맞는 언어 확장자를 받아서 색도 바꿀수 있고 비주얼 스튜디오와 여는 방식이
차이점이 있기에 vs코드가 VS보다 빠른 속도를 가질수 있다는 장점도 있음 Unity와 연결 시켜서 vsdode 로
코딩도 가능함 

메모장 처럼 사용방법
http://yoonbumtae.com/?p=3163
아래 사이트에 플러그인 링크를 들어가서 플러그인을 다운바다옫 되고 Vs코드 확장자 다운로드 이용하여서
다운로드 할수도 있음 
메모장의 최대 장점인 현제 시간 입력을 플러그인 다운 받고 
Ctrl + shift + i = 현재날짜,현재시간 출력이 됨

앞으로 vscode 이용하는것이 용의 해보임
















GetCurrentAnimatorStateInfo에대해 공부하기

